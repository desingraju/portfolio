<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Portfolio</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="mediaqueries.css" />
    <style>
      /* ----------------------
         Project hover (improved)
         ---------------------- */
      .about-containers {
        perspective: 1100px;
      }
      .details-container.color-container {
        position: relative;
        border-radius: 14px;
        transition: transform 380ms cubic-bezier(.2,.9,.2,1),
          box-shadow 380ms, filter 380ms;
        transform-style: preserve-3d;
        will-change: transform;
        overflow: visible;
      }

      /* image layer */
      .details-container.color-container .project-img {
        display: block;
        width: 100%;
        border-radius: 12px;
        transition: transform 380ms cubic-bezier(.2,.9,.2,1), filter 380ms;
        transform-origin: 50% 35%;
      }

      /* overlay that appears on hover */
      .details-container.color-container::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 12px;
        background: linear-gradient(180deg, rgba(8, 10, 20, 0.0), rgba(8, 8, 20, 0.06));
        opacity: 0;
        transition: opacity 300ms ease, transform 400ms ease;
        pointer-events: none;
      }

      .details-container.color-container .proj-overlay {
        position: absolute;
        left: 12px;
        right: 12px;
        bottom: 12px;
        padding: 12px;
        border-radius: 10px;
        background: rgba(255,255,255,0.88);
        transform: translateY(12px);
        opacity: 0;
        box-shadow: 0 8px 24px rgba(6,10,20,0.08);
        transition: transform 300ms cubic-bezier(.2,.9,.2,1), opacity 250ms ease, backdrop-filter 260ms;
        backdrop-filter: blur(6px);
        font-weight: 600;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* content inside overlay */
      .proj-overlay .overlay-title {
        font-size: 13px;
        letter-spacing: 0.4px;
      }
      .proj-overlay .overlay-actions {
        display: flex;
        gap: 8px;
      }
      .proj-overlay .overlay-actions .project-btn {
        padding: 6px 8px;
        font-size: 12px;
      }

      /* hover state */
      .details-container.color-container:hover {
        transform: translateY(-12px) rotateX(6deg) rotateZ(-0.5deg) scale(1.01);
        box-shadow: 0 22px 48px rgba(10, 18, 40, 0.18), 0 4px 12px rgba(100, 70, 255, 0.06);
        z-index: 30;
        filter: saturate(1.04);
      }
      .details-container.color-container:hover .project-img {
        transform: translateY(-8px) scale(1.04) rotateZ(-0.3deg);
        filter: contrast(1.04);
      }
      .details-container.color-container:hover::before {
        opacity: 1;
      }
      .details-container.color-container:hover .proj-overlay {
        transform: translateY(0);
        opacity: 1;
      }

      /* subtle neon outline */
      .details-container.color-container::after {
        content: "";
        position: absolute;
        inset: 6px;
        border-radius: 10px;
        pointer-events: none;
        transition: box-shadow 300ms, opacity 300ms;
        opacity: 0;
      }
      .details-container.color-container:hover::after {
        opacity: 1;
        box-shadow: 0 0 34px rgba(120, 95, 255, 0.14), 0 0 10px rgba(120, 95, 255, 0.06) inset;
      }

      /* buttons lift */
      .details-container.color-container .btn-container .project-btn {
        transition: transform 220ms, box-shadow 220ms;
      }
      .details-container.color-container:hover .btn-container .project-btn {
        transform: translateY(-6px);
        box-shadow: 0 10px 22px rgba(10, 16, 30, 0.12);
      }

      /* responsiveness: reduce tilt on small screens */
      @media (max-width: 720px) {
        .details-container.color-container:hover {
          transform: translateY(-8px) rotateX(0) rotateZ(0) scale(1.005);
        }
        .details-container.color-container .project-img {
          transform: none;
        }
      }

      /* ----------------------
         Theme toggle (switch like image)
         ---------------------- */
      /* container fixed on right centre */
      .theme-switch-wrap {
        position: fixed;
        right: 18px;
        top: 50%;
        transform: translateY(-50%);
        z-index: 9999;
        display: flex;
        gap: 10px;
        align-items: center;
        padding: 8px;
        border-radius: 999px;
        background: transparent;
        -webkit-tap-highlight-color: transparent;
      }

      /* hide native checkbox */
      .theme-switch {
        --w: 62px;
        --h: 34px;
        display: inline-grid;
        place-items: center;
        width: var(--w);
        height: var(--h);
      }
      .theme-switch input {
        position: absolute;
        opacity: 0;
        pointer-events: none;
      }

      /* the track */
      .theme-switch .track {
        width: var(--w);
        height: var(--h);
        border-radius: 999px;
        background: linear-gradient(180deg, #e7e7ea, #dcdce6);
        box-shadow: 0 6px 16px rgba(8, 12, 24, 0.08), inset 0 1px 0 rgba(255,255,255,0.6);
        position: relative;
        transition: background 260ms ease, box-shadow 260ms ease, transform 260ms;
      }

      /* knob */
      .theme-switch .knob {
        position: absolute;
        top: 50%;
        left: 6px;
        width: 26px;
        height: 26px;
        transform: translateY(-50%);
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #fff, #f7f7f9);
        box-shadow: 0 6px 16px rgba(12,18,30,0.18);
        transition: left 260ms cubic-bezier(.2,.9,.2,1), transform 260ms, box-shadow 260ms;
        display: grid;
        place-items: center;
        overflow: hidden;
      }

      /* small sun/moon inside */
      .theme-switch .knob .knob-icon {
        width: 14px;
        height: 14px;
        display: block;
        position: relative;
        transition: transform 260ms, opacity 260ms;
      }
      .knob .sun {
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #fff9d6, #ffd24a 60%);
        box-shadow: 0 2px 6px rgba(255,180,40,0.18);
      }
      .knob .moon {
        position: absolute;
        right: -6px;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: linear-gradient(180deg,#e9eef9,#d6def0);
        clip-path: circle(50% at 40% 45%);
        opacity: 0;
        transform: translateX(6px) scale(.9);
      }

      /* when checked: move knob to right and change track */
      .theme-switch input:checked + .track {
        background: linear-gradient(180deg,#111827,#0b1220);
        box-shadow: 0 12px 30px rgba(4,8,18,0.6), inset 0 -2px 6px rgba(255,255,255,0.02);
      }
      .theme-switch input:checked + .track .knob {
        left: calc(var(--w) - 6px - 26px);
        transform: translateY(-50%) rotate(6deg);
        box-shadow: 0 12px 28px rgba(2,6,23,0.48);
      }
      .theme-switch input:checked + .track .knob .sun {
        opacity: 0;
        transform: translateX(-8px) scale(.8);
      }
      .theme-switch input:checked + .track .knob .moon {
        opacity: 1;
        transform: translateX(0) scale(1);
      }

      /* label text below the switch (visual only) */
      .theme-label {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        user-select: none;
      }
      .theme-label .label-light,
      .theme-label .label-dark {
        font-size: 12px;
        color: #222;
        font-weight: 600;
        letter-spacing: 0.2px;
      }
      .theme-label .label-dark {
        display: none;
      }

      /* invert label styles in dark mode */
      body.dark-mode .theme-label .label-light {
        display: none;
      }
      body.dark-mode .theme-label .label-dark {
        display: block;
        color: #dbeafe;
      }

      /* make track accessible on small screens */
      @media (max-width: 520px) {
        .theme-switch-wrap { right: 10px; }
        .theme-label .label-light, .theme-label .label-dark { font-size: 11px; }
      }

      /* small overall dark-mode tweaks (non-invasive) */
      body.dark-mode {
        background: #051021 !important;
        color: #dbeafe !important;
      }
      body.dark-mode img.icon {
        filter: brightness(1.05) saturate(0.5) invert(0.02) contrast(1.05);
      }
      body.dark-mode a { color: #9fd1ff; }
    </style>
  </head>
  <body>
    <nav id="desktop-nav">
      <div class="logo">Desing Raju Chavvakula</div>
      <div>
        <ul class="nav-links">
          <li><a href="#about">About</a></li>
          <li><a href="#experience">Experience</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </nav>

    <!-- ... keep your existing page content exactly as-is ... -->
    <!-- (I omitted repeating the entire page here for brevity in this block) -->
    <!-- But in your actual file keep the rest of your original HTML (profile, about, projects, etc.) exactly the same. -->

    <!-- IMPORTANT: below place this toggle *once* near the end of body (before scripts) -->
    <div class="theme-switch-wrap" aria-hidden="false">
      <label class="theme-switch" aria-label="Toggle dark mode">
        <input id="theme-checkbox" type="checkbox" aria-checked="false" />
        <div class="track" role="presentation">
          <div class="knob" aria-hidden="true">
            <span class="knob-icon">
              <span class="sun" aria-hidden="true"></span>
              <span class="moon" aria-hidden="true"></span>
            </span>
          </div>
        </div>
      </label>

      <div class="theme-label" aria-hidden="true">
        <span class="label-light">Light</span>
        <span class="label-dark">Dark</span>
      </div>
    </div>

    <!-- your existing scripts -->
    <script src="script.js"></script>

    <!-- THEME SWITCH SCRIPT (non-invasive) -->
    <script>
      (function () {
        const checkbox = document.getElementById("theme-checkbox");
        const body = document.body;

        // apply theme from saved pref (localStorage)
        const saved = (function () {
          try {
            return localStorage.getItem("desing_theme_dark");
          } catch (e) {
            return null;
          }
        })();

        if (saved !== null) {
          const isDark = saved === "true";
          body.classList.toggle("dark-mode", isDark);
          checkbox.checked = !!isDark;
        } else {
          // optional: follow system preference initially
          const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
          body.classList.toggle("dark-mode", prefersDark);
          checkbox.checked = !!prefersDark;
        }

        // toggle handler
        checkbox.addEventListener("change", function () {
          const isDark = checkbox.checked;
          body.classList.toggle("dark-mode", isDark);
          try {
            localStorage.setItem("desing_theme_dark", isDark ? "true" : "false");
          } catch (e) {
            // ignore
          }
        });

        // keyboard accessibility: space toggles
        checkbox.addEventListener("keydown", (e) => {
          if (e.key === " " || e.key === "Enter") {
            e.preventDefault();
            checkbox.checked = !checkbox.checked;
            checkbox.dispatchEvent(new Event("change"));
          }
        });
      })();
    </script>
  </body>
</html>
